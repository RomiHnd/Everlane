(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5174],{45672:function(e,t,r){"use strict";r.d(t,{Z:function(){return w}});var n,o=r(59499),i=r(4730),c=r(93967),u=r.n(c),a=r(25675),l=r.n(a),s=r(67294),d=r(31397),p=r(55844),f=["urlSuffix","src"];function v(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function b(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?v(Object(r),!0).forEach(function(t){(0,o.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}(0,d.v6)({cloudName:"everlane",secure:!0,secureDistribution:"media.everlane.com",privateCdn:!0});var y={fetchFormat:"auto",dpr:"2.0",quality:"auto:best:sensitive"},O=(n=function(e){var t=e.aspectRatio,r=e.width,n=e.isZoomed,o=e.quality;return b({crop:"fill",aspectRatio:"".concat(t.width,":").concat(t.height),width:n?2*r:r},o&&{quality:o})},function(e){var t=e.urlSuffix,r=e.src,o=(0,i.Z)(e,f);return(0,d.Q2)((0,p.Z)(r),{cloud:{urlSuffix:t},transformations:b(b({},y),n(o))})}),m=r(75066),g=r.n(m),h=r(85893),_=["priority","className","containerClassName","alt","style","src","suffix","width","height","sizes","aspectRatio","loader","unoptimized","isZoomed"];function j(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function P(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?j(Object(r),!0).forEach(function(t){(0,o.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):j(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var w=function(e){var t=e.priority,r=e.className,n=e.containerClassName,o=e.alt,c=e.style,a=e.src,d=e.suffix,p=e.width,f=e.height,v=e.sizes,b=e.aspectRatio,y=void 0===b?{width:p,height:f}:b,m=e.loader,j=void 0===m?O:m,w=e.unoptimized,Z=e.isZoomed,S=void 0!==Z&&Z,D=(0,i.Z)(e,_),x=(0,s.useState)(null),k=x[0],E=x[1],N=(0,s.useState)(!1),z=N[0],R=N[1],C=p>150;return((0,s.useEffect)(function(){C&&E(j({src:a,aspectRatio:y,isZoomed:!1,urlSuffix:d,quality:"10",sizes:"5vw",width:p>1600||S?"100":"30"}))},[a,C]),a)?(0,h.jsx)("div",{style:c,className:void 0===n?"":n,children:(0,h.jsx)(l(),P({className:u()(g()["responsive-image"],r),loader:function(e){return j(P(P({},e),{},{aspectRatio:y,isZoomed:S,urlSuffix:d}))},alt:o,src:a,width:p,height:f,sizes:void 0===v?"(max-width: 480px) 62vw, (min-width: 1000px) 25vw":v,priority:void 0!==t&&t,unoptimized:void 0!==w&&w,blurDataURL:C&&k?k:void 0,placeholder:C&&k?"blur":"empty",onLoad:function(){return R(!0)},style:{filter:z?"blur(0px)":"blur(20px)",transition:"filter 0.5s linear"}},D))}):null}},16619:function(e,t,r){"use strict";r.d(t,{Z:function(){return o}});var n=r(87950);function o(e){var t,r=e.product,o=e.productPrices,i=e.minimal;if(!r||!o)return"";var c=(0,n.mt)(o,r.id);if(!(null!=c&&null!==(t=c.bundle)&&void 0!==t&&t.convertedDiscountedPricePerUnit))return"";var u=r.bundleInfo.thresholdCount;if(!u)return"";var a=c.bundle.convertedDiscountedPricePerUnit*u,l="".concat(o.currencySymbol).concat(a);return void 0!==i&&i?"".concat(u," for ").concat(l):"Buy ".concat(u," for ").concat(l)}},80822:function(e,t,r){"use strict";var n=r(59499),o=r(4730),i=r(41664),c=r.n(i),u=r(11163),a=r(85893),l=["permalink","children","className","shouldScroll","secondaryOnClick","collection","shouldReplace"];function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach(function(t){(0,n.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}t.Z=function(e){var t=e.permalink,r=e.children,n=e.className,i=e.shouldScroll,s=e.secondaryOnClick,p=e.collection,f=e.shouldReplace,v=(0,o.Z)(e,l),b=(0,u.useRouter)().query,y="/products/".concat(t),O=p?"".concat(y,"?collection=").concat(p):y;return(0,a.jsx)(c(),d(d({},v),{},{scroll:void 0===i||i,href:{pathname:"/products/[permalink]",query:{collection:p,utm_source:null==b?void 0:b.utm_source}},as:O,replace:f,className:n,onClick:function(){s&&s()},children:r}))}},57286:function(e,t,r){"use strict";var n=r(59499),o=r(16835),i=r(93967),c=r.n(i),u=r(70131),a=r(50308),l=r.n(a),s=r(81938),d=r(83014),p=r(87950),f=r(62097),v=r(22884),b=r(16619),y=r(59841),O=r.n(y),m=r(85893);t.Z=function(e){var t,r,i,a,y,g=e.product,h=e.small,_=e.defaultText,j=void 0===_?null:_,P=e.desktopPdp,w=void 0!==P&&P,Z=(0,u.YD)({triggerOnce:!0,rootMargin:"300px 300px"}),S=(0,o.Z)(Z,2),D=S[0],x=S[1];w&&(D=l(),x=!0);var k=(0,d.Z)(g.productGroupId,{skip:!x}).data,E=(0,p.mt)(k,g.id),N=(0,s.Z)().data,z=(null==E?void 0:E.originalPrice)&&(null==E?void 0:E.originalPrice)!==(null==E?void 0:E.convertedPrice);if(j)y=j;else if((0,v.Z)(g)&&E&&!w)y=(0,b.Z)({product:g,productPrices:k,minimal:!0});else if(r=(N||{}).oneSizeFitsAllBadgeSkus,null===(t=g.productSizes)||void 0===t?void 0:t.some(function(e){return null==r?void 0:r.some(function(t){return e.skus.includes(t)})}))y=(0,m.jsx)("div",{className:O()["product-badge__holiday--one-size-fits-all"],children:"One-Size-Fits-All"});else if(E){if(z&&E){var R=Math.round(100-E.convertedPrice/E.originalPrice*100);y="".concat(R,"% off")}else(null===(i=g.primaryCollection)||void 0===i?void 0:i.permalink)==="mens-uniform"?y="UNIFORM":function(){if(!(0,f.MR)(g)||!g.productSizes)return!1;var e=g.productSizes.filter(function(e){return["low_stock","out_of_stock"].includes(e.inventoryStatus)}).length;return e>0&&e/g.productSizes.length>=.5}()?y="Selling fast":new Date(g.reviewedAt).getTime()>new Date().getTime()-2592e6&&(y="New")}else y="";return(0,m.jsx)("div",{ref:D,children:y&&(0,m.jsx)("div",{className:c()(O()["product-badge"],(a={},(0,n.Z)(a,O()["product-badge--small"],h),(0,n.Z)(a,O()["product-badge--large"],!h),(0,n.Z)(a,O()["product-badge--uniform"],"UNIFORM"===y),(0,n.Z)(a,O()["product-badge--discount"],y.includes("% off")),a)),children:y})})}},55844:function(e,t,r){"use strict";r.d(t,{Z:function(){return o}});var n=r(91896);function o(e){try{return new URL(e,"https://media.everlane.com").pathname.split("/").slice(-2).join("/").split(".")[0]}catch(t){return(0,n.Z)(Error("Cannot extract Cloudinary filename from ".concat(e)),{originalError:t}),""}}},62097:function(e,t,r){"use strict";r.d(t,{$3:function(){return u},ET:function(){return o},MR:function(){return c},mN:function(){return i}});var n=r(64665);function o(e){return!!e&&e.orderableState===n.Z.SoldOut}function i(e){return!!e&&e.orderableState===n.Z.Waitlistable}function c(e){return!!e&&e.orderableState===n.Z.Shippable}function u(e){return!!e&&e.orderableState===n.Z.Preorderable}},22884:function(e,t){"use strict";t.Z=function(e){return(null==e?void 0:e.isBundle)||!!(null!=e&&e.bundleInfo)}},38512:function(e,t,r){"use strict";var n=r(67294);t.Z=function(){var e,t=null===(e=r.g.window)||void 0===e?void 0:e.matchMedia("(min-width: 992px)"),o=(0,n.useState)((null==t?void 0:t.matches)||!1),i=o[0],c=o[1],u=function(e){c(e.matches||!1)};return(0,n.useEffect)(function(){return null!=t&&t.addEventListener&&t.addEventListener("change",u),function(){null!=t&&t.removeEventListener&&t.removeEventListener("change",u)}},[]),i}},54454:function(e,t,r){"use strict";r.d(t,{G:function(){return d}});var n=r(59499),o=r(4730),i=r(67294),c=r(8100),u=r(96639),a=["data"];function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach(function(t){(0,n.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var d=function(e){return"/api/v3/product_groups?product_permalink=".concat(e)};t.Z=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=(0,c.kY)().mutate,n=(0,c.ZP)(e?d(e):null,u.U2,s({revalidateIfStale:!0,revalidateOnFocus:!1,isPaused:function(){return!1}},t)),l=n.data,p=(0,o.Z)(n,a);return(0,i.useEffect)(function(){null!=l&&l.products&&l.products.forEach(function(e){r(d(e.permalink),l,!1)})},[l,r]),s(s({},p),{},{data:l})}},83014:function(e,t,r){"use strict";var n=r(59499),o=r(4730),i=r(8100),c=r(61858),u=r(87383),a=["data"];function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach(function(t){(0,n.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}t.Z=function(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.localeOverride,l=r.skip,d=void 0!==l&&l,p=(0,c.Z)().data,f=(0,u.Z)().data,v=null==p?void 0:null===(t=p.shippingAddress)||void 0===t?void 0:t.country,b=(null==n?void 0:n.currency)||(null==f?void 0:f.currency),y=(null==n?void 0:n.country)||v||(null==f?void 0:f.countryCode),O=(0,i.ZP)(function(){return e&&b&&y&&!d?"/api/v2/product_groups/".concat(e,"/prices?currency=").concat(b,"&country=").concat(y):null},{revalidateOnFocus:!1}),m=O.data;return s(s({},(0,o.Z)(O,a)),{},{data:m})}},64665:function(e,t){"use strict";var r,n=((r=n||{}).SoldOut="sold_out",r.Waitlistable="waitlistable",r.Shippable="shippable",r.Preorderable="preorderable",r);t.Z=n},75066:function(e){e.exports={"image-hover":"styles_image-hover__e5Ktk","image-hover__container":"styles_image-hover__container__G2A2h","image-hover__inner-container":"styles_image-hover__inner-container__U0DX8","responsive-image":"styles_responsive-image__5f_zr"}},59841:function(e){e.exports={"product-badge":"styles_product-badge__eQDf3","product-badge--uniform":"styles_product-badge--uniform__ev7VR","product-badge--large":"styles_product-badge--large__Y89pY","product-badge--small":"styles_product-badge--small__tL_y9","product-badge--discount":"styles_product-badge--discount__fMeqH","product-badge__holiday--best-seller":"styles_product-badge__holiday--best-seller__FvNOS","product-badge__holiday--one-size-fits-all":"styles_product-badge__holiday--one-size-fits-all__M1Guh","product-badge--experiment":"styles_product-badge--experiment__DxblW"}}}]);
//# sourceMappingURL=5174-a60b3b17198d7ca6.js.map